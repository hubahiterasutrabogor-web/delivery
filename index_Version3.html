<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Demo Visual Shipping Tracker Lengkap</AZKO>
  <style>
    body { font-family: Arial, sans-serif; background: #eef3fa; margin: 0;}
    .container { max-width: 820px; margin: 3em auto; background: #fff; border-radius: 12px; box-shadow: 0 3px 20px rgba(0,0,0,0.12); padding: 2em;}
    h2 { text-align: center; }
    .section { margin-bottom: 2em; border-bottom: 1px solid #eaeaea; padding-bottom: 2em;}
    label { display: block; margin-top: 1em; }
    input, select { width: 100%; padding: 0.6em; margin-top: 0.4em;}
    button { margin-top: 1em; background: #0b6efd; color: #fff; padding: 0.8em 2em; border: none; border-radius: 4px; font-size: 1em; cursor: pointer;}
    .result, .list { background: #e7f3ff; margin-top: 1em; border-radius: 5px; padding: 1em;}
    .error { color: #c00; margin-top: 1em;}
    pre { background: #eee; padding: 1em; border-radius: 5px; overflow-x: auto;}
    .item { margin-bottom: 0.7em; padding-bottom: 0.7em; border-bottom: 1px solid #d4e9ff;}
    .row { display: flex; gap: 1em;}
    .col { flex: 1;}
    .userbox { padding: 0.7em; background: #f4f9ff; border-radius: 6px; margin-bottom: 1em;}
    .userid { font-weight: bold; color: #0b6efd;}
    hr { border: none; height: 2px; background: #e4ecf6; margin: 2em 0;}
  </style>
</head>
<body>
  <div class="container">
    <h2>Shipping Tracker Demo Visual (Lengkap)</h2>
    <div id="userbox" class="userbox"></div>
    <div class="section">
      <h3>Login / Register User</h3>
      <div class="row">
        <div class="col">
          <h4>Register</h4>
          <label>Nama:</label><input type="text" id="regName">
          <label>Email:</label><input type="email" id="regEmail">
          <label>Password:</label><input type="password" id="regPassword">
          <label>Phone:</label><input type="text" id="regPhone">
          <label>Alamat:</label><input type="text" id="regAddress">
          <button onclick="registerUser()">Register</button>
        </div>
        <div class="col">
          <h4>Login</h4>
          <label>Email:</label><input type="email" id="loginEmail">
          <label>Password:</label><input type="password" id="loginPassword">
          <button onclick="loginUser()">Login</button>
        </div>
      </div>
      <div id="userOutput"></div>
    </div>
    <div class="section">
      <h3>Lacak Pengiriman Zyllem</h3>
      <label for="trackingNumber">Nomor Resi Zyllem:</label>
      <input type="text" id="trackingNumber" placeholder="Contoh: ZYLLEM123456">
      <button onclick="trackShipment()">Lacak Pengiriman</button>
      <div id="shipmentOutput"></div>
    </div>
    <div class="section">
      <h3>Buat Pengiriman</h3>
      <label for="shipTrackingNum">Tracking Number:</label>
      <input type="text" id="shipTrackingNum" placeholder="Nomor Resi">
      <label for="shipCourier">Kurir:</label>
      <input type="text" id="shipCourier" placeholder="zyllem / jne / ...">
      <label for="shipStatus">Status:</label>
      <input type="text" id="shipStatus" value="created">
      <button onclick="createShipment()">Tambah Pengiriman</button>
      <button onclick="listShipment()">List Pengiriman User</button>
      <div id="shipmentList"></div>
    </div>
    <div class="section">
      <h3>CRUD PIC</h3>
      <label for="picName">Nama PIC:</label>
      <input type="text" id="picName" placeholder="Nama PIC">
      <label for="picPosition">Posisi:</label>
      <input type="text" id="picPosition" placeholder="Posisi">
      <label for="picContact">Kontak:</label>
      <input type="text" id="picContact" placeholder="Nomor Telepon">
      <button onclick="createPIC()">Tambah PIC</button>
      <button onclick="listPIC()">List PIC</button>
      <div id="picOutput"></div>
    </div>
    <div class="section">
      <h3>CRUD Staff</h3>
      <label for="staffName">Nama Staff:</label>
      <input type="text" id="staffName" placeholder="Nama Staff">
      <label for="staffPosition">Posisi:</label>
      <input type="text" id="staffPosition" placeholder="Posisi">
      <label for="staffContact">Kontak:</label>
      <input type="text" id="staffContact" placeholder="Nomor Telepon">
      <button onclick="createStaff()">Tambah Staff</button>
      <button onclick="listStaff()">List Staff</button>
      <div id="staffOutput"></div>
    </div>
    <div class="section">
      <h3>CRUD Schedule</h3>
      <label for="scheduleStaffId">ID Staff:</label>
      <input type="text" id="scheduleStaffId" placeholder="ID Staff">
      <label for="scheduleDate">Tanggal:</label>
      <input type="date" id="scheduleDate">
      <label for="scheduleStartTime">Jam Mulai:</label>
      <input type="time" id="scheduleStartTime">
      <label for="scheduleEndTime">Jam Selesai:</label>
      <input type="time" id="scheduleEndTime">
      <label for="scheduleOnDuty">On Duty:</label>
      <select id="scheduleOnDuty">
        <option value="true">Ya</option>
        <option value="false">Tidak</option>
      </select>
      <button onclick="createSchedule()">Tambah Schedule</button>
      <button onclick="listSchedule()">List Schedule</button>
      <div id="scheduleOutput"></div>
    </div>
  </div>
  <script>
    // GANTI PORT DARI 3000 -> 8080
    const API_URL = "http://localhost:8080";
    let userId = "";
    let userName = "";

    function updateUserBox() {
      const box = document.getElementById('userbox');
      if (userId) box.innerHTML = `User aktif: <span class="userid">${userName}</span> | ID: <span class="userid">${userId}</span>`;
      else box.innerHTML = `<i>Belum login</i>`;
    }
    updateUserBox();

    // (script lain TIDAK BERUBAH, lanjut seperti sebelumnya)
    // --- Login/Register ---
    // ... (kode tetap seperti sebelumnya)
    // --- Shipment tracking, create, list ---
    // ... (kode tetap seperti sebelumnya)
    // --- PIC CRUD ---
    // ... (kode tetap seperti sebelumnya)
    // --- Staff CRUD ---
    // ... (kode tetap seperti sebelumnya)
    // --- Schedule CRUD ---
    // ... (kode tetap seperti sebelumnya)
  </script>
</body>
</html>